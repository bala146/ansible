---
# tasks file for roles/docker
- name: Add Docker Repository
  get_url:
          url: https://download.docker.com/linux/centos/docker-ce.repo
          dest: /etc/yum.repos.d/docker.repo
- name: Install the Depedency packages
  yum:
          name:
                  - yum-utils
                  - device-mapper-persistent-data
                  - lvm2
          state: present

- name: Install the Docker Packages 1
  yum:
          name:
                  - containerd.io
                  - docker-ce-3:18.09.1-3.el7
          state: present

- name: Install PIP Modules
  pip:
          name: docker 
- name: Start the Docker service
  service:
          name: docker
          state: started
          enabled: yes
- name: Creating Docker User
  user:
          name: dkadmin
          groups: docker
          shell: /bin/bash
          state: present
          comment: "Docker User"
          password: "dkadmin"
- import_tasks: docker.yml 
